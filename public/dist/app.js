!function(n){var t={};function r(e){if(t[e])return t[e].exports;var o=t[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)r.d(e,o,function(t){return n[t]}.bind(null,o));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=0)}([function(n,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=r(1);document.addEventListener("DOMContentLoaded",function(){var n=o.split("\n"),t=[];n.forEach(function(n){n.length&&t.push(n.split(",").map(function(n){return parseInt(n.trim())}))});var r=[];t.forEach(function(n){var t=parseInt(n.pop())?[1,0]:[0,1];r.push(t)}),t.forEach(function(n,r){t[r]=n.map(function(n){return(n-0)/255})});var i=s.split("\n"),a=[];i.forEach(function(n){n.length&&a.push(n.split(",").map(function(n){return parseInt(n.trim())}))});var u=[];a.forEach(function(n){u.push([parseInt(n.pop())])}),a.forEach(function(n,t){a[t]=n.map(function(n){return(n-0)/255})});var c=new e.NeuralNetV2(3,2,600,.01);c.setBatchSize(64),c.addHiddenLayer(12),c.create();var l=(new Date).getTime();c.training(t,r);var f=(new Date).getTime();console.log("Training Took "+(f-l)/1e3+" seconds"),document.querySelector(".predict").addEventListener("click",function(){var n=document.querySelector(".inputs");n=n.value;var t=document.querySelector(".result");console.log(n),t.style.background="rgb("+n+")",n=(n=n.split(",").map(function(n){return n.trim()})).map(function(n,t){return[n/255]}),console.log(n),console.log(c.feedForwad(n.slice()),n);var r=c.feedForwad(n)[0].toArray();console.table(r);var e=r[1][0]>r[0][0];t.style.color=e?"black":"white"})});var o="\n83, 117,  173, 1\n127, 173,  91, 0\n100, 112,  90, 1\n171, 188,  158, 0\n121, 175,  79, 0\n82, 175,  10, 1\n141, 153,  133, 0\n34, 27,  79, 1\n60, 37,  209, 1\n150, 77,  67, 1\n91, 26,  18, 1\n3, 8,  5, 1\n112, 209,  151, 0\n12, 114,  53, 0\n213, 125,  36, 0\n140, 82,  25, 1\n113, 146,  233, 0\n185, 166,  203, 0\n72, 40,  94, 1\n138, 94,  219, 0\n116, 152,  65, 1\n249, 254,  141, 0\n160, 66,  240, 0\n69, 193,  123, 0\n202, 156,  192, 0\n235, 152,  255, 0\n236, 223,  121, 0\n206, 100,  150, 0\n243, 218,  101, 0\n89, 193,  226, 0\n104, 207,  224, 0\n108, 106,  172, 1\n158, 216,  75, 0\n162, 100,  232, 0\n142, 154,  238, 0\n168, 23,  163, 1\n16, 196,  63, 0\n154, 197,  112, 0\n19, 199,  180, 0\n137, 36,  196, 1\n20, 112,  171, 1\n21, 49,  138, 1\n49, 175,  21, 1\n167, 30,  90, 1\n33, 143,  240, 0\n150, 169,  116, 0\n49, 251,  96, 0\n115, 187,  144, 0\n213, 80,  250, 0\n211, 8,  155, 1\n185, 88,  25, 1\n80, 108,  7, 1\n148, 96,  1, 1\n97, 65,  255, 0\n98, 215,  77, 0\n249, 49,  248, 0\n141, 16,  186, 1\n230, 192,  146, 0\n45, 65,  120, 1\n117, 154,  194, 0\n56, 192,  232, 0\n97, 94,  48, 1\n110, 2,  154, 1\n16, 199,  228, 0\n133, 108,  62, 1\n198, 77,  224, 0\n82, 178,  25, 1\n255, 150,  151, 0\n169, 133,  118, 0\n230, 92,  76, 0\n215, 46,  196, 0\n70, 208,  13, 1\n176, 149,  77, 0\n240, 44,  124, 0\n132, 252,  205, 0\n194, 164,  75, 0\n19, 101,  212, 1\n185, 129,  61, 0\n62, 167,  166, 0\n111, 160,  108, 0\n86, 104,  106, 1\n114, 121,  93, 1\n9, 135,  140, 1\n234, 221,  25, 0\n23, 87,  64, 1\n190, 169,  152, 0\n126, 54,  113, 1\n227, 187,  188, 0\n234, 211,  163, 0\n61, 17,  198, 1\n57, 41,  44, 1\n164, 86,  67, 1\n60, 167,  27, 1\n210, 36,  69, 1\n145, 82,  10, 1\n218, 177,  236, 0\n192, 94,  202, 0\n120, 101,  62, 1\n139, 24,  117, 1\n215, 72,  11, 1\n242, 146,  133, 0\n143, 25,  129, 1\n92, 101,  235, 0\n75, 86,  208, 1\n32, 220,  10, 1\n214, 219,  114, 0\n141, 16,  71, 1\n20, 242,  181, 0\n189, 235,  146, 0\n96, 248,  105, 0\n143, 2,  254, 1\n59, 16,  68, 1\n174, 178,  159, 0\n91, 180,  199, 0\n159, 84,  76, 1\n245, 166,  14, 0\n113, 176,  253, 0\n55, 37,  250, 1\n226, 245,  178, 0\n217, 144,  47, 0\n72, 115,  214, 0\n46, 6,  248, 1\n27, 131,  208, 1\n13, 16,  20, 1\n72, 194,  106, 0\n160, 113,  171, 0\n96, 208,  33, 1\n239, 179,  192, 0\n3, 114,  32, 1\n181, 119,  190, 0\n96, 214,  12, 1\n240, 40,  226, 0\n82, 107,  29, 1\n9, 87,  18, 1\n29, 243,  209, 0\n61, 248,  81, 0\n214, 81,  106, 0\n180, 124,  208, 0\n200, 131,  50, 0\n48, 157,  20, 1\n7, 164,  202, 0\n197, 31,  74, 1\n53, 13,  225, 1\n246, 171,  34, 0\n135, 245,  178, 0\n42, 161,  201, 1\n84, 31,  186, 1\n213, 209,  176, 0\n58, 30,  230, 1\n27, 105,  33, 1\n77, 154,  187, 0\n238, 250,  224, 0\n93, 136,  113, 1\n159, 140,  234, 0\n125, 5,  21, 1\n49, 177,  78, 0\n85, 177,  141, 0\n150, 61,  217, 0\n222, 161,  25, 0\n91, 102,  93, 1\n186, 104,  87, 0\n235, 69,  114, 0\n242, 118,  24, 0\n169, 59,  197, 0\n238, 185,  211, 0\n128, 246,  20, 1\n241, 181,  48, 0\n198, 202,  116, 0",s="41, 49,  79, 1\n128, 113,  85, 1\n160, 20,  104, 1\n95, 45,  113, 1\n15, 251,  138, 0\n203, 215,  70, 0\n254, 186,  206, 0\n230, 80,  42, 0\n149, 195,  155, 0\n173, 93,  250, 0\n175, 162,  139, 0\n13, 96,  223, 1\n148, 219,  72, 0\n11, 167,  119, 0\n138, 4,  186, 1\n78, 15,  26, 1\n163, 132,  166, 0\n101, 48,  72, 1\n200, 57,  101, 1\n148, 40,  49, 1\n47, 145,  168, 1\n57, 70,  33, 1\n88, 146,  23, 1\n216, 98,  83, 0\n152, 145,  212, 0"},function(n,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=r(2),o=function(){function n(n,t,r,e,o){void 0===r&&(r=100),void 0===e&&(e=.1),void 0===o&&(o="relu"),this.layers=[],this.memory=[],this.activation_func="relu",this.batch_size=1,this.layer_gradiant=[],this.input_nodes=n,this.out_nodes=t,this.epocs=r,this.learning_rate=e,this.activation_func=o}return n.prototype.setBatchSize=function(n){void 0===n&&(n=1),this.batch_size=n},n.prototype.addHiddenLayer=function(n){var t,r=this.layers.length;t=r>0?new e.Matrix(n,this.layers[r-1].getRows()+1):new e.Matrix(n,this.input_nodes+1),this.layers.push(t)},n.prototype.create=function(){this.addHiddenLayer(this.out_nodes),this.bootstrap()},n.prototype.bootstrap=function(){var n=this;this.layers.forEach(function(t,r){n.layer_gradiant.push(new e.Matrix(t.getRows(),r!=n.layers.length-1?t.getCols():t.getCols()-1)),t.randomize()})},n.prototype.feedForwad=function(n,t){var r,o=this;void 0===t&&(t=!0);var s=new e.Matrix(n.length+1,n[0].length);return this.memory=[],t&&n.push([1]),s.make(n),(r=new e.Matrix(s.getRows(),s.getCols())).make(s.copy()),this.layers.forEach(function(n,t){r=e.Matrix.multy(n,r),r=e.Matrix.map(r,o.sigmoid);var s=new e.Matrix(r.getRows(),r.getCols());s.make(r.copy()),o.memory.push(s),t!=o.layers.length-1&&r.addRow([1])}),[r,s]},n.prototype.training=function(n,t){for(var r=this,o=0;o<this.epocs;o++)n.forEach(function(o,s){var i=[],a=[],u=new e.Matrix(t[s].length,1);o.map(function(n){return i.push([n])}),t[s].map(function(n){return a.push([n])}),u.make(a);var c=r.feedForwad(i),l=c[0],f=c[1],p=e.Matrix.subtract(l,u);if((s+1)%r.batch_size!=0&&s+1!=n.length)for(var h=r.layers.length-1;0<=h;h--){if(h!=r.layers.length-1){var y=e.Matrix.transpose(r.layers[h+1]);p=e.Matrix.multy(y,p)}var d=e.Matrix.map(r.memory[h],function(n){return n*(1-n)});d=e.Matrix.multyElWise(d,p),d=e.Matrix.multy(d,r.learning_rate),d=r.layers.length>1&&0!=h?e.Matrix.multy(d,e.Matrix.transpose(r.memory[h-1])):e.Matrix.multy(d,e.Matrix.transpose(f)),r.layer_gradiant[h].add(d)}else for(h=r.layers.length-1;0<=h;h--)r.layers[h]=e.Matrix.subtract(r.layers[h],r.layer_gradiant[h]),r.layer_gradiant[h]=new e.Matrix(r.layers[h].getRows(),h!=r.layers.length-1?r.layers[h].getCols():r.layers[h].getCols()-1)})},n.prototype.tester=function(n,t){var r=this,o=n.length,s=0;return n.forEach(function(n,o){var i=[],a=[],u=new e.Matrix(t[o].length,1);n.map(function(n){return i.push([n])}),t[o].map(function(n){return a.push([n])}),u.make(a);var c=r.feedForwad(i),l=c[0];c[1];(l.toArray()[0][0]>.5?1:0)==u.toArray()[0][0]&&s++,console.log(l.toArray()[0][0],"=-=",u.toArray()[0][0]," : ",i)}),s/o},n.prototype.save=function(){console.log(JSON.stringify(this.layers))},n.prototype.load=function(n){var t=this;JSON.parse(n).forEach(function(n){var r;(r=new e.Matrix(n.rows,n.cols)).make(n.entries),t.layers.push(r)})},n.prototype.sigmoid=function(n){return 1/(1+Math.exp(-n))},n.prototype.relu=function(n){return Math.max(0,n)},n.prototype.getActivationFunc=function(){switch(this.activation_func){case"relu":return this.relu;case"sigmoid":return this.sigmoid;default:throw"Error: "+this.activation_func+" not found!"}},n}();t.NeuralNetV2=o},function(n,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(n,t){this.rows=n,this.cols=t,this.setup()}return n.prototype.getRows=function(){return this.rows},n.prototype.getCols=function(){return this.cols},n.prototype.make=function(n){n.length==this.rows&&n[0].length==this.cols&&(this.entries=n)},n.prototype.randomize=function(){for(var n=0;n<this.rows;n++)for(var t=0;t<this.cols;t++)this.entries[n][t]=this.rand()},n.prototype.toArray=function(){return this.entries},n.prototype.add=function(t){if(t instanceof n)for(var r=0;r<this.rows;r++)for(var e=0;e<this.cols;e++)this.entries[r][e]+=t.entries[r][e];else for(r=0;r<this.rows;r++)for(e=0;e<this.cols;e++)this.entries[r][e]+=t;return this},n.prototype.subtract=function(t){if(t instanceof n)for(var r=0;r<this.rows;r++)for(var e=0;e<this.cols;e++)this.entries[r][e]-=t.entries[r][e];else for(r=0;r<this.rows;r++)for(e=0;e<this.cols;e++)this.entries[r][e]-=t;return this},n.subtract=function(t,r){var e=new n(t.getRows(),t.getCols()),o=t.copy();if(r instanceof n)for(var s=0;s<r.rows;s++)for(var i=0;i<r.cols;i++)o[s][i]-=r.entries[s][i];else for(s=0;s<t.rows;s++)for(i=0;i<t.cols;i++)o[s][i]-=r;return e.make(o),e},n.transpose=function(t){for(var r=new n(t.getCols(),t.getRows()),e=0;e<r.getRows();e++)for(var o=0;o<r.getCols();o++)r.entries[e][o]=t.entries[o][e];return r},n.multy=function(t,r){var e,o=t.copy();if("number"==typeof r){e=new n(t.rows,t.cols);for(var s=0;s<t.rows;s++)for(var i=0;i<t.cols;i++)o[s][i]=o[s][i]*r;e.make(o)}else{e=new n(t.rows,r.cols);var a=[];for(s=0;s<t.rows;s++){for(var u=[],c=0;c<r.cols;c++){var l=0;for(i=0;i<t.cols;i++)l+=t.entries[s][i]*r.entries[i][c];u.push(l)}a.push(u)}e.make(a)}return e},n.multyElWise=function(t,r){var e,o=t.copy();if("number"==typeof r){e=new n(t.rows,t.cols);for(var s=0;s<t.rows;s++)for(var i=0;i<t.cols;i++)o[s][i]=o[s][i]*r;e.make(o)}else{e=new n(t.rows,r.cols);for(s=0;s<t.rows;s++)for(i=0;i<t.cols;i++)e.entries[s][i]=t.entries[s][i]*r.entries[s][i]}return e},n.map=function(t,r){for(var e=new n(t.getRows(),t.getCols()),o=t.copy(),s=0;s<t.getRows();s++)for(var i=0;i<t.getCols();i++)o[s][i]=r(o[s][i]);return e.make(o),e},n.prototype.copy=function(){return JSON.parse(JSON.stringify(this.entries))},n.prototype.setup=function(){this.entries=[];for(var n=0;n<this.rows;n++){for(var t=[],r=0;r<this.cols;r++)t.push(0);this.entries.push(t)}},n.prototype.rand=function(){return 2*Math.random()-1},n.prototype.show=function(){console.table(this.entries)},n.prototype.addRow=function(n){this.rows+=1,this.entries.push(n)},n}();t.Matrix=e}]);